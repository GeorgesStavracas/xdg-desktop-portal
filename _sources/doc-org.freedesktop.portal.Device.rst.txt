.. _org.freedesktop.portal.Device:

=============================
org.freedesktop.portal.Device
=============================

-----------
Description
-----------

.. _org.freedesktop.portal.Device Description:

Portal for device access

This interface lets services ask if an application should
get access to devices such as microphones, speakers or cameras.
Not a portal in the strict sense, since the API is not directly
accessible to applications inside the sandbox.

This documentation describes version 1 of this interface.



----------
Properties
----------

.. org.freedesktop.portal.Device Properties:

org.freedesktop.portal.Device:version
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

::

    version readable u




-------
Methods
-------

.. org.freedesktop.portal.Device Methods:

org.freedesktop.portal.Device.AccessDevice
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

::

    AccessDevice (
      IN pid u,
      IN devices as,
      IN options a{sv},
      OUT handle o
    )



Asks for access to a device.

Supported keys in the ``options`` vardict include:
<variablelist>
<varlistentry>
<term>handle_token s</term>
<listitem><para>
A string that will be used as the last element of the ``handle``. Must be a valid
object path element. See the `org.freedesktop.portal.Request`_ documentation for
more information about the ``handle``.
</para></listitem>
</varlistentry>
</variablelist>



pid
  the pid of the application on whose behalf the request is made

devices
  a list of devices to request access to. Supported values are 'microphone', 'speakers', 'camera'. Asking for multiple devices at the same time may or may not be supported

options
  vardict with optional further information


