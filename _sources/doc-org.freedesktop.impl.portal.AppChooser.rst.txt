.. _org.freedesktop.impl.portal.AppChooser:

======================================
org.freedesktop.impl.portal.AppChooser
======================================

-----------
Description
-----------

.. _org.freedesktop.impl.portal.AppChooser Description:

Interface for choosing an application

This backend can be used by portal implementations that
need to choose an application from a list of applications.

This documentation describes version 2 of this interface.



-------
Methods
-------

.. org.freedesktop.impl.portal.AppChooser Methods:

org.freedesktop.impl.portal.AppChooser.ChooseApplication
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

::

    ChooseApplication (
      IN handle o,
      IN app_id s,
      IN parent_window s,
      IN choices as,
      IN options a{sv},
      OUT response u,
      OUT results a{sv}
    )



Presents a list of applications to the user to choose one.

Supported keys in the ``options`` vardict include:
<variablelist>
<varlistentry>
<term>last_choice s</term>
<listitem><para>The app id that was selected the last time.</para></listitem>
</varlistentry>
<varlistentry>
<term>modal b</term>
<listitem><para>Whether to make the dialog modal. Defaults to yes.</para></listitem>
</varlistentry>
<varlistentry>
<term>content_type s</term>
<listitem><para>The content type to choose an application for.</para></listitem>
</varlistentry>
<varlistentry>
<term>uri s</term>
<listitem><para>The uri to choose an application for.</para></listitem>
</varlistentry>
<varlistentry>
<term>filename s</term>
<listitem><para>The filename to choose an application for. Note that this
is just a basename, without a path.</para></listitem>
</varlistentry>
<varlistentry>
<term>activation_token s</term>
<listitem><para>
A token that can be used to activate the application chooser.
</para><para>
The activation_token option was introduced in version 2 of the interface.
</para></listitem>
</varlistentry>
</variablelist>

The following results get returned via the ``results`` vardict:
<variablelist>
<varlistentry>
<term>choice s</term>
<listitem><para>The app id that was selected.</para></listitem>
</varlistentry>
<varlistentry>
<term>activation_token s</term>
<listitem><para>
A token that can be used to activate the chosen application. If
the application selection has involved user interaction, a new
token should be generated by the portal implementation.
Otherwise, this token may be the same as the one passed in
``options``.
</para><para>
The activation_token option was introduced in version 2 of the interface.
</para></listitem>
</varlistentry>
</variablelist>



handle
  Object path to export the Request object at

app_id
  App id of the application

parent_window
  Identifier for the application window, see <link linkend="parent_window">Common Conventions</link>

choices
  App ids of applications to let the user choose from

options
  Vardict with optional further information



org.freedesktop.impl.portal.AppChooser.UpdateChoices
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

::

    UpdateChoices (
      IN handle o,
      IN choices as
    )



This method can be called between the time of a ChooseApplication call
and receiving the Response signal, to update the list of applications
that are offered by the backend.



handle
  the request handle

choices
  App ids of applications to let the user choose from


